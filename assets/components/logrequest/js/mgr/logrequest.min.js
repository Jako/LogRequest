/*!
 * LogRequest - Log request parameter values and display them in the Dashboard
 * Version: 1.0.1
 * Build date: 2019-08-22
 */

MODx.grid.LogrequestRank=function(e){e=e||{},Ext.applyIf(e,{url:e.connector_url,baseParams:{action:"mgr/rank/getlist"},cls:"modx-grid modx-grid-small",fields:["value","count"],columns:[{header:_("logrequest.widget.value"),dataIndex:"value",width:250},{header:_("logrequest.widget.count"),dataIndex:"count",width:100}],paging:!0,pageSize:7,showPerPage:!1,listeners:{afterrender:this.onAfterRender,scope:this}}),MODx.grid.LogrequestRank.superclass.constructor.call(this,e)},Ext.extend(MODx.grid.LogrequestRank,MODx.grid.Grid,{onAfterRender:function(){var e=Ext.getCmp("modx-content"),o=Ext.get("modx-grid-logrequest-rank");e&&o&&e.on("afterlayout",function(e,t){var r=o.getWidth();400<r&&this.setWidth(r)},this),Ext.get("dashboard-block-treehillstudio-rank").select(".treehillstudio-widget-about").on("click",function(){var e='<span style="display: inline-block; text-align: center"><img src="'+LogRequest.config.assetsUrl+'img/mgr/treehill-studio.png" srcset="'+LogRequest.config.assetsUrl+'img/mgr/treehill-studio@2x.png 2x" alt"Treehill Studio"><br>© 2016-2019 by <a href="https://treehillstudio.com" target="_blank">treehillstudio.com</a></span>';Ext.Msg.show({title:_("logrequest")+" "+LogRequest.config.version,msg:e,buttons:Ext.Msg.OK,cls:"treehillstudio_window",width:330})})}}),Ext.reg("modx-grid-logrequest-rank",MODx.grid.LogrequestRank),MODx.grid.LogrequestLog=function(e){e=e||{},Ext.applyIf(e,{url:e.connector_url,baseParams:{action:"mgr/log/getlist"},cls:"modx-grid modx-grid-small",fields:["value","loggedon"],columns:[{header:_("logrequest.widget.value"),dataIndex:"value",width:250},{header:_("logrequest.widget.date"),dataIndex:"loggedon",renderer:Ext.util.Format.dateRenderer(MODx.config.manager_date_format+" "+MODx.config.manager_time_format),width:100}],paging:!0,pageSize:7,showPerPage:!1,listeners:{afterrender:this.onAfterRender,scope:this}}),MODx.grid.LogrequestLog.superclass.constructor.call(this,e)},Ext.extend(MODx.grid.LogrequestLog,MODx.grid.Grid,{onAfterRender:function(){var e=Ext.getCmp("modx-content"),o=Ext.get("modx-grid-logrequest-log");e&&o&&e.on("afterlayout",function(e,t){var r=o.getWidth();400<r&&this.setWidth(r)},this),Ext.get("dashboard-block-treehillstudio-log").select(".treehillstudio-widget-about").on("click",function(){var e='<span style="display: inline-block; text-align: center"><img src="'+LogRequest.config.assetsUrl+'img/mgr/treehill-studio.png" srcset="'+LogRequest.config.assetsUrl+'img/mgr/treehill-studio@2x.png 2x" alt"Treehill Studio"><br>© 2016-2019 by <a href="https://treehillstudio.com" target="_blank">treehillstudio.com</a></span>';Ext.Msg.show({title:_("logrequest")+" "+LogRequest.config.version,msg:e,buttons:Ext.Msg.OK,cls:"treehillstudio_window",width:330})})}}),Ext.reg("modx-grid-logrequest-log",MODx.grid.LogrequestLog);