/*!
 * LogRequest - Log request parameters and display them in a Dashboard Widget
 * Version: 1.0.0
 * Build date: 2019-06-24
 */

MODx.grid.LogrequestRank=function(e){e=e||{},Ext.applyIf(e,{url:e.connector_url,baseParams:{action:"mgr/rank/getlist"},cls:"modx-grid modx-grid-small",fields:["value","count"],columns:[{header:_("logrequest.widget.value"),dataIndex:"value",width:400},{header:_("logrequest.widget.count"),dataIndex:"count",width:50}],paging:!0,pageSize:7,showPerPage:!1,listeners:{afterrender:this.onAfterRender,scope:this}}),MODx.grid.LogrequestRank.superclass.constructor.call(this,e)},Ext.extend(MODx.grid.LogrequestRank,MODx.grid.Grid,{onAfterRender:function(){var e=Ext.getCmp("modx-content");parent=Ext.get("modx-grid-logrequest-rank"),e&&parent&&e.on("afterlayout",function(e,t){var r=parent.getWidth();500<r&&this.setWidth(r)},this)}}),Ext.reg("modx-grid-logrequest-rank",MODx.grid.LogrequestRank),MODx.grid.LogrequestLog=function(e){e=e||{},Ext.applyIf(e,{url:e.connector_url,baseParams:{action:"mgr/log/getlist"},cls:"modx-grid modx-grid-small",fields:["value","loggedon"],columns:[{header:_("logrequest.widget.value"),dataIndex:"value",width:350},{header:_("logrequest.widget.date"),dataIndex:"loggedon",renderer:Ext.util.Format.dateRenderer(MODx.config.manager_date_format+" "+MODx.config.manager_time_format),width:100}],paging:!0,pageSize:7,showPerPage:!1,listeners:{afterrender:this.onAfterRender,scope:this}}),MODx.grid.LogrequestLog.superclass.constructor.call(this,e)},Ext.extend(MODx.grid.LogrequestLog,MODx.grid.Grid,{onAfterRender:function(){var e=Ext.getCmp("modx-content");parent=Ext.get("modx-grid-logrequest-log"),e&&parent&&e.on("afterlayout",function(e,t){var r=parent.getWidth();500<r&&this.setWidth(r)},this)}}),Ext.reg("modx-grid-logrequest-log",MODx.grid.LogrequestLog);